<div class="wrapper wrapper--margins">

	{% assign cols = 0 %}

	{% for i in (1..6) %}
	  {% capture feature %}home-features-{{ i }}-title{% endcapture %}
		{% unless settings[feature] == blank %}
		  {% assign cols = cols | plus: 1 %}
		{% endunless %}
	{% endfor %}

	{% case cols %}
		{% when 1 %}
			{% assign grid_class = 'grid__item text-center' %}
		{% when 2 %}
			{% assign grid_class = 'grid__item large--one-half medium--one-half small--text-center' %}
		{% when 3 %}
			{% assign grid_class = 'grid__item large--one-third medium-down--text-center' %}
		{% when 4 %}
			{% assign grid_class = 'grid__item large--one-quarter medium--one-half small--text-center' %}
		{% when 5 %}
			{% assign grid_class = 'grid__item large--one-half medium--one-half small--text-center' %}
		{% when 6 %}
			{% assign grid_class = 'grid__item large--one-third medium--one-half small--text-center' %}
	{% endcase %}

	<div class="home-features">

		<h2 class="home-section-title">{{ 'homepage.titles.features' | t }}</h2>

		<ul class="features-list grid grid-margins">

			{% unless settings.home-features-1-title == blank %}
				<li class="{{ grid_class }}">
					<i class="fa fa-{{ settings.home-features-1-icon }} fa-3x"></i>
					<h3 class="h4">{{ settings.home-features-1-title }}</h3>
					<p>{{ settings.home-features-1-content }}</p>
				</li>
			{% endunless %}

			{% unless settings.home-features-2-title == blank %}
				<li class="{{ grid_class }}">
					<i class="fa fa-{{ settings.home-features-2-icon }} fa-3x"></i>
					<h3 class="h4">{{ settings.home-features-2-title }}</h3>
					<p>{{ settings.home-features-2-content }}</p>
				</li>
			{% endunless %}

			{% if cols == 5 %}
				{% assign grid_class = 'grid__item one-third small--one-whole small--text-center' %}
			{% endif %}

			{% unless settings.home-features-3-title == blank %}
				<li class="{{ grid_class }}">
					<i class="fa fa-{{ settings.home-features-3-icon }} fa-3x"></i>
					<h3 class="h4">{{ settings.home-features-3-title }}</h3>
					<p>{{ settings.home-features-3-content }}</p>
				</li>
			{% endunless %}

			{% unless settings.home-features-4-title == blank %}
				<li class="{{ grid_class }}">
					<i class="fa fa-{{ settings.home-features-4-icon }} fa-3x"></i>
					<h3 class="h4">{{ settings.home-features-4-title }}</h3>
					<p>{{ settings.home-features-4-content }}</p>
				</li>
			{% endunless %}

			{% unless settings.home-features-5-title == blank %}
				<li class="{{ grid_class }}">
					<i class="fa fa-{{ settings.home-features-5-icon }} fa-3x"></i>
					<h3 class="h4">{{ settings.home-features-5-title }}</h3>
					<p>{{ settings.home-features-5-content }}</p>
				</li>
			{% endunless %}

			{% unless settings.home-features-6-title == blank %}
				<li class="{{ grid_class }}">
					<i class="fa fa-{{ settings.home-features-6-icon }} fa-3x"></i>
					<h3 class="h4">{{ settings.home-features-6-title }}</h3>
					<p>{{ settings.home-features-6-content }}</p>
				</li>
			{% endunless %}

			<!-- Onboarding -->
			{% if settings.home-features-1-title == blank %}
			  {% for i in (1..3) %}
					<li class="grid__item one-third medium-down--one-whole medium--text-center">
						<i class="fa fa-bell-o fa-3x"></i>
						<h3 class="h4">{{ 'homepage.onboarding.section_title' | t }}</h3>
						<p>{{ 'homepage.onboarding.section_text_html' | t }}</p>
					</li>
				{% endfor %}
			{% endif %}

		</ul>

	</div>
</div>
